<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>HFMSE</title>
    <meta name="ad.size" content="width=300, height=250">
    <style>
      html, body, div,
      a, img {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
      }
      body {
        line-height: 1;
      }

      body {
        background:white;
        overflow:hidden;
        width:300px;
 
      }
      .hfmse {
        width: 300px;
        height: 250px;
      }

      #img-fallback {
        width: 300px;
        height: 250px;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>    
    <script type="text/javascript">
      var clickTag = "http://www.hfmse.com/";

      function loadAd() {
        $.get('assets/svg/HFMSE Digital Ad_300x250_Slide1-01.svg', function(data) {
          var $hfmse = $('#hfmse');
          var $svg = $(data.querySelector('svg'));
          $hfmse.addClass('hfmse');
          $hfmse.append($svg)
          $svg.click(function(){
            window.open(clickTag);
          })
          
          var splitgear = document.querySelector('#splitgear');
          var gears = document.getElementsByClassName('grey-gear')
          var textFrame1 = document.querySelector('#text-frame-1');
          var textFrame2 = document.querySelector('#text-frame-2');
          var textFrame3 = document.querySelector('#text-frame-3');
          var oneOfAKind = document.querySelector('#one-of-a-kind path');

          TweenMax.to(gears, 2, {
            rotation: '360',
            transformOrigin: 'center center',
            ease: Linear.easeNone,
            repeat: -1
          });

          TweenMax.to(splitgear, 2.5, {
            rotation: '360',
            transformOrigin: 'center center',
            ease: Linear.easeNone,
            repeat: -1,
            repeatDelay: 2.5,
            yoyo: true
          });

          var tlMsgs = new TimelineMax({repeat: -1, repeatDelay: 2});
          tlMsgs.add(TweenMax.to(textFrame1, 2, {css: {'fill-opacity': 1}, delay: 1}));
          tlMsgs.add(TweenMax.to(textFrame1, 2, {css: {'fill-opacity': 0}, delay: 1}));
          tlMsgs.add(TweenMax.to(textFrame2, 2, {css: {'fill-opacity': 1}, delay: 1}));
          tlMsgs.add(TweenMax.to(oneOfAKind, 2, {fill: '#ffff66'}));
          tlMsgs.add(TweenMax.to(oneOfAKind, 2, {attr: {filter: 'url(#glow)'}}), -.5);
          tlMsgs.add(TweenMax.to('#glow', 8, {attr: {stdDeviation: 0}}), -3.5);
          tlMsgs.add(TweenMax.to(textFrame2, 2, {css: {'fill-opacity': 0}, delay: 1}));
          tlMsgs.add(TweenMax.to(textFrame3, 2, {css: {'fill-opacity': 1}, delay: 1}));
          tlMsgs.add(TweenMax.to(textFrame3, 2, {css: {'fill-opacity': 0}, delay: 1}));       

        });
      }
    </script>        
  </head>


  <body>
  <div id="hfmse"></div>
  <!--[if lte IE 8]>
    <img id="img-fallback" src='assets/img/test.JPG' onclick="javascript:window.open(window.clickTag)">
  <![endif]-->  
  <!--[if gt IE 8]>
    <script>loadAd();</script>
  <![endif]-->  
  <![if !IE]>
    <script>loadAd();</script>
  <![endif]>
  </body>
</html>